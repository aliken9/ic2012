@model TBTracker.Models.Patient

@{
    ViewBag.Title = "Edit";
}

<h2>Edit</h2>

@using (@Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <fieldset>
      <legend>Drug Messages</legend>
      <table class = "Drug Messages">
        <tr>
          <th></th>
          <th>Name</th>
          <th>Dosage</th>
          <th>Duration</th>
        </tr>
        @foreach (var drug in Model.Drugs)
        {
          <tr>
              <td>
              @Html.ActionLink("Delete", "DeleteDrug", new {id = drug.DrugId }) | @Html.ActionLink("Edit", "EditDrug", new {id = drug.DrugId })
              </td>
              <td>@drug.DrugInfo.Name</td>
              <td>@drug.TimesPerWeek Times Per Week</td>
              <td>@drug.StartDate To @drug.EndDate</td>
          </tr>
        }
        <tr><td>@Html.ActionLink("Add","AddDrug",new {pid=Model.PatientId})</td></tr>
      </table>
    </fieldset>
}